RUST_LOG="info,actix_web_prom=error"
LOG_FORMAT="pretty"
INFERENCE_HOSTNAME="0.0.0.0"
INFERENCE_PORT="8090"
CORS_ALLOWED_ORIGINS="*"

#==============================================================================
# MODEL CONFIGURATION
#==============================================================================
# HuggingFace cache directory (models will be downloaded here)
# HF_HOME="/path/to/models"

# HuggingFace endpoint (for Artifactory proxy or local mirror in airgapped environments)
# HF_ENDPOINT="https://huggingface.co"

# Custom model directory for user-provided ONNX models
# INFERENCE_MODEL_PATH="/path/to/custom/models"

# Comma-separated list of allowed models (REQUIRED)
# Set to '*' for all models, or a specific list
# If empty or not set, the server will fail to start
INFERENCE_ALLOWED_EMBEDDING_MODELS="snowflake/snowflake-arctic-embed-xs"

# Comma-separated list of allowed rerank models (optional)
# Set to '*' for all models, a specific list, or omit for no rerankers
#INFERENCE_ALLOWED_RERANK_MODELS="jinaai/jina-reranker-v2-base-multilingual"

# Maximum batch size for embedding requests
INFERENCE_MAX_BATCH_SIZE="256"

# Maximum concurrent embedding requests (for backpressure control)
# With GPU inference, this can be higher since work is serialized on the GPU anyway.
# Set to 4-8 for typical workloads. Higher values allow more queuing.
INFERENCE_MAX_CONCURRENT_REQUESTS="4"

# Queue timeout in milliseconds - how long to wait for a permit before returning 503
# Higher values allow more requests to queue during burst traffic.
# Set to 5000-10000ms for busy environments, or 1000ms for low-latency requirements.
INFERENCE_QUEUE_TIMEOUT_MS="5000"

SERVER_SSL_ENABLED="false"
# SERVER_SSL_CERT_PATH="/path/to/cert.pem"
# SERVER_SSL_KEY_PATH="/path/to/key.pem"

OTEL_EXPORTER_OTLP_ENDPOINT="http://localhost:4317"
SERVICE_NAME="embedding-inference-api"

# CUDA Configuration
# Set to GPU device ID(s) to enable CUDA acceleration
CUDA_VISIBLE_DEVICES=0

# ORT CUDA memory arena configuration
ORT_CUDA_MEM_ARENA_SHRINK=1
EMBEDDING_REQUEST_LIMIT=200