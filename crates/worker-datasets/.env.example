# ================================
# Service Configuration
# ================================
SERVICE_NAME=worker-datasets

# ================================
# PostgreSQL Database Configuration
# ================================
DATABASE_URL=postgresql://semantic_explorer_user:semantic_explorer_password@localhost:5432/semantic_explorer

# ================================
# NATS Configuration
# ================================
NATS_URL=nats://localhost:4222

# ================================
# Qdrant Vector Database Configuration
# ================================
QDRANT_URL=http://localhost:6334
QDRANT_API_KEY=

# ================================
# Worker Configuration
# ================================
# Number of concurrent jobs (should match embedding capacity)
MAX_CONCURRENT_JOBS=8

# Health check server port (default: 8080)
HEALTH_CHECK_PORT=8080

# Batch sizes
WORKER_DATASET_BATCH_SIZE=1000         # Batch size for dataset processing
WORKER_QDRANT_UPLOAD_CHUNK_SIZE=200    # Chunk size for Qdrant vector uploads

# ================================
# Performance Tuning
# ================================
# Parallel Qdrant uploads - controls concurrent chunk uploads (default: 4)
QDRANT_PARALLEL_UPLOADS=4

# ================================
# Embedding Configuration
# ================================
# Embedding Inference API URL
EMBEDDING_INFERENCE_API_URL=http://localhost:8090

# Max concurrent embedding API requests (should match GPU/inference capacity)
EMBEDDING_MAX_CONCURRENT_REQUESTS=1

# ================================
# Observability & Monitoring
# ================================
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
LOG_FORMAT=json
RUST_LOG=worker_datasets=debug
